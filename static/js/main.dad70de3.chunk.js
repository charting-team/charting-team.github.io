(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(41)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(18),c=a.n(l),u=(a(26),a(27),a(8)),s=a(9),o=(a(28),function(){return n.a.createElement("header",null,n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(s.b,{exact:!0,to:"/"},"One vs One")),n.a.createElement("li",null,n.a.createElement(s.b,{to:"/many-vs-many"},"Many vs Many")))))}),i=a(1),m=(a(33),a(34),function(e){return n.a.createElement("form",{onSubmit:e.formSubmited,className:"MultiForm"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"confidence"},"Confidence Level"),n.a.createElement("select",{id:"confidence",name:"conf",onChange:e.formChanges,defaultValue:"95%"},n.a.createElement("option",{value:"60%"},"60%"),n.a.createElement("option",{value:"70%"},"70%"),n.a.createElement("option",{value:"80%"},"80%"),n.a.createElement("option",{value:"85%"},"85%"),n.a.createElement("option",{value:"90%"},"90%"),n.a.createElement("option",{value:"95%"},"95%"),n.a.createElement("option",{value:"98%"},"98%"),n.a.createElement("option",{value:"99%"},"99%"),n.a.createElement("option",{value:"99.8%"},"99.8%"),n.a.createElement("option",{value:"99.9%"},"99.9%"))),n.a.createElement("div",{className:"form-field"},n.a.createElement("input",{type:"text",name:"bases",onChange:e.formChanges,required:!0,placeholder:"Base sizes"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"3",name:"drivers",onChange:e.formChanges,placeholder:"Drivers/Statements"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"5",name:"percents",onChange:e.formChanges,required:!0,placeholder:"Percent values"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("button",null,"Calculate")))}),d=(a(35),a(36),function(e){return n.a.createElement("tr",null,n.a.createElement("td",{key:e.idx},e.driverValue||"<->"),e.percentsValues.map(function(t,a){return e.sigStyles.s.length>0?n.a.createElement("td",{key:a,className:e.sigStyles.s[a],onMouseOver:e.showStatTest,onMouseLeave:e.hideStatTest},t):n.a.createElement("td",{key:a,onMouseOver:e.showStatTest,onMouseLeave:e.hideStatTest},t)}))}),v=function(e){var t=Object(r.useState)({s:[],i:null}),a=Object(i.a)(t,2),l=a[0],c=a[1],u=function(t,a){for(var r=e.data.data.sequence,n=t,l=a.target.cellIndex-1,u=e.data.data.testedPercents[n],s=String.fromCharCode(65+l),o=[],i=0;i<u.length;i++)u[i].includes(s)?o.push("green"):u[l].includes(r[i])?o.push("red"):o.push("yellow");c({s:o,i:n})},s=function(e){c({s:[],i:null})};return n.a.createElement("table",{className:"MultiTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Drivers"),e.data.data.bases.map(function(e,t){var a=!1;return e<50&&(e+=" *",a=!0),n.a.createElement("th",{key:t,className:a?"lowbase":null},e)})),n.a.createElement("tr",null,n.a.createElement("th",null,"Stat letters"),e.data.data.sequence.map(function(e,t){return n.a.createElement("th",{key:t},e)}))),n.a.createElement("tbody",null,e.data.data.testedPercents.map(function(t,a){var r={};return l.i===a?r=l:r.s=[],n.a.createElement(d,{key:a,showStatTest:u.bind(void 0,a),hideStatTest:s,sigStyles:r,driverValue:e.data.data.drivers[a],percentsValues:t,idx:a})})))},f=a(3),p=a(4),h=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"confidenceLevels",value:function(){return{"60%":.842,"70%":1.036,"80%":1.282,"85%":1.44,"90%":1.645,"95%":1.96,"98%":2.326,"99%":2.576,"99.8%":3.091,"99.9%":3.291}}},{key:"calcStatTest",value:function(e,t,a,r,n,l){var c=(e*a+t*r)/(e+t),u=1-c;return Math.abs((a-r)/Math.sqrt(c*u*(1/e+1/t)))>l&&a>r?String.fromCharCode(65+n):""}}]),e}(),E=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"handleConf",value:function(e){return(new h).confidenceLevels()[e.conf]}},{key:"handleBases",value:function(e){var t=e.bases.split(/\t+/g);return t=t.map(function(e){return e.replace(/\D+/g,"")}).map(Number)}},{key:"handleDrivers",value:function(e){if(!e.drivers)return"";var t=e.drivers.split(/\n/g);return t=t.filter(function(e){return""!==e})}},{key:"handlePercents",value:function(e){var t=e.percents.split(/\n/g),a=(t=t.filter(function(e){return""!==e})).filter(function(e){return e.includes("%")}).length>0,r=(t=a?t.filter(function(e){return e.includes("%")}):t.filter(function(e){return/\d/.test(e)})).map(function(e){return e.split(/\t+/g).map(function(e){return e.replace(/[%]/g,"").trim()})});return r=r.map(function(e){return e.map(function(e){return"-"===e?e=-100:e/=100,e=+e})})}}]),e}(),g=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"addStatLetters",value:function(e,t,a){for(var r=new h,n=[],l=0;l<a.length;l++){for(var c=[],u=0;u<a[0].length;u++){for(var s="",o=0;o<a[0].length;o++)u!==o&&(s+=r.calcStatTest(t[u],t[o],a[l][u],a[l][o],o,e));-100===a[l][u]?c.push("-"):c.push(parseFloat((100*a[l][u]).toFixed(5))+"% "+s)}n.push(c)}return n}},{key:"generateAlphabet",value:function(e){return e.map(function(e,t){return String.fromCharCode(65+t)})}}]),e}(),b=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"processData",value:function(e,t,a,r){var n=new E,l=n.handleConf(e),c=n.handleBases(t),u=n.handleDrivers(a),s=n.handlePercents(r),o=new g;return{bases:c,drivers:u,testedPercents:o.addStatLetters(l,c,s),sequence:o.generateAlphabet(c)}}}]),e}(),w=function(){var e=Object(r.useState)({conf:"95%"}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)({bases:""}),u=Object(i.a)(c,2),s=u[0],o=u[1],d=Object(r.useState)({drivers:""}),f=Object(i.a)(d,2),p=f[0],h=f[1],E=Object(r.useState)({percents:""}),g=Object(i.a)(E,2),w=g[0],O=g[1],j=Object(r.useState)({valid:!1}),S=Object(i.a)(j,2),y=S[0],C=S[1],V=Object(r.useState)({data:{}}),B=Object(i.a)(V,2),D=B[0],N=B[1];return n.a.createElement("section",{className:"MultiTesting"},n.a.createElement(m,{formSubmited:function(e){e.preventDefault();var t=(new b).processData(a,s,p,w);C({valid:!0}),N({data:t})},formChanges:function(e){"conf"===e.target.name?l({conf:e.target.value}):"bases"===e.target.name?o({bases:e.target.value}):"drivers"===e.target.name?h({drivers:e.target.value}):"percents"===e.target.name&&O({percents:e.target.value})}}),y.valid?n.a.createElement(v,{data:D}):null)},O=(a(37),a(38),function(e){return n.a.createElement("form",{onSubmit:e.formSubmited,className:"SingleForm"},n.a.createElement("div",{className:"form-field"},n.a.createElement("label",{htmlFor:"confidence"},"Confidence Level"),n.a.createElement("select",{id:"confidence",name:"conf",onChange:e.formChanges,defaultValue:"95%"},n.a.createElement("option",{value:"60%"},"60%"),n.a.createElement("option",{value:"70%"},"70%"),n.a.createElement("option",{value:"80%"},"80%"),n.a.createElement("option",{value:"85%"},"85%"),n.a.createElement("option",{value:"90%"},"90%"),n.a.createElement("option",{value:"95%"},"95%"),n.a.createElement("option",{value:"98%"},"98%"),n.a.createElement("option",{value:"99%"},"99%"),n.a.createElement("option",{value:"99.8%"},"99.8%"),n.a.createElement("option",{value:"99.9%"},"99.9%"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-field"},n.a.createElement("input",{type:"text",name:"prevBases",onChange:e.formChanges,required:!0,placeholder:"Base sizes previous wave"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("input",{type:"text",name:"currBases",onChange:e.formChanges,required:!0,placeholder:"Base sizes current wave"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"2",name:"prevDrivers",onChange:e.formChanges,placeholder:"Drivers previous wave"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"2",name:"currDrivers",onChange:e.formChanges,placeholder:"Drivers current wave"}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"5",name:"prevPercents",onChange:e.formChanges,required:!0,placeholder:"Percents previous wave"})),n.a.createElement("div",{className:"form-field"},n.a.createElement("textarea",{rows:"5",name:"currPercents",onChange:e.formChanges,required:!0,placeholder:"Percents current wave"}))),n.a.createElement("div",{className:"form-field"},n.a.createElement("button",null,"Calculate")))}),j=(a(39),a(40),function(e){return n.a.createElement("tr",null,n.a.createElement("td",{key:e.idx},e.driverValue),n.a.createElement("td",null,e.prevValue),n.a.createElement("td",{className:e.statColor},e.currValue))}),S=function(e){return n.a.createElement("table",{className:"SingleTable"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Drivers"),n.a.createElement("th",{className:e.data.data.prevBase<50?"lowbase":null},e.data.data.prevBase<50?e.data.data.prevBase+" *":e.data.data.prevBase),n.a.createElement("th",{className:e.data.data.currBase<50?"lowbase":null},e.data.data.currBase<50?e.data.data.currBase+" *":e.data.data.currBase))),n.a.createElement("tbody",null,e.data.data.rows.map(function(t,a){return n.a.createElement(j,{key:a,driverValue:e.data.data.rows[a].driver,prevValue:e.data.data.rows[a].prevValue,currValue:e.data.data.rows[a].currValue,statColor:e.data.data.rows[a].statColor,idx:a})})))},y=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"confidenceLevels",value:function(){return{"60%":.842,"70%":1.036,"80%":1.282,"85%":1.44,"90%":1.645,"95%":1.96,"98%":2.326,"99%":2.576,"99.8%":3.091,"99.9%":3.291}}},{key:"calcStatTest",value:function(e,t,a,r,n){var l=(e*a+t*r)/(e+t),c=1-l;return Math.abs((a-r)/Math.sqrt(Math.abs(l*c*(1/e+1/t))))>n?a>r?"red":"green":""}}]),e}(),C=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"handleConf",value:function(e){return(new y).confidenceLevels()[e.conf]}},{key:"handleBase",value:function(e){return Number(e.replace(/\D+/g,""))}},{key:"handleDrivers",value:function(e){if(!e)return"";var t=e.split(/\n/g);return t=t.filter(function(e){return""!==e})}},{key:"handlePercents",value:function(e,t){var a=e.split(/\n/g);return(a=a.filter(function(e){return""!==e})).filter(function(e){return e.includes("%")}).length>0?a=a.filter(function(e){return e.includes("%")||/-/.test(e.trim())}):(a=a.filter(function(e){return/(\d|-|\.)/.test(e)}),t&&t.length<a.length&&(a=a.filter(function(e,t){return t%2!==0}))),a=(a=a.map(function(e){return e.replace(/[%]/g,"").trim()})).map(function(e){return"-"===e?e=-100:e/=100,e=+e})}}]),e}(),V=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"generateData",value:function(e,t,a,r,n,l,c){var u={};if(u.prevBase=t,u.currBase=a,u.rows=[],r&&n)for(var s=0;s<n.length;s++){var o=r.indexOf(n[s]),i={driver:n[s],currValue:c[s]};i.prevValue=o<0?-100:l[o],u.rows.push(i)}else for(var m=0;m<c.length;m++){var d={driver:n[m]||"<->",currValue:c[m],prevValue:l[m]};u.rows.push(d)}for(var v=new y,f=0;f<u.rows.length;f++)-100!==u.rows[f].prevValue&&-100!==u.rows[f].currValue&&"-"!==u.rows[f].prevValue&&"-"!==u.rows[f].currValue&&(u.rows[f].statColor=v.calcStatTest(t,a,u.rows[f].prevValue,u.rows[f].currValue,e));for(var p=0;p<u.rows.length;p++)-100===u.rows[p].prevValue?u.rows[p].prevValue="-":u.rows[p].prevValue=parseFloat((100*u.rows[p].prevValue).toFixed(7))+" %",-100===u.rows[p].currValue?u.rows[p].currValue="-":u.rows[p].currValue=parseFloat((100*u.rows[p].currValue).toFixed(7))+" %";return u}}]),e}(),B=function(){function e(){Object(f.a)(this,e)}return Object(p.a)(e,[{key:"processData",value:function(e,t,a,r,n,l,c){var u=new C,s=u.handleConf(e),o=u.handleBase(t.prevBases),i=u.handleBase(a.currBases),m=u.handleDrivers(r.prevDrivers),d=u.handleDrivers(n.currDrivers),v=u.handlePercents(l.prevPercents,d),f=u.handlePercents(c.currPercents,d);return{data:(new V).generateData(s,o,i,m,d,v,f)}}}]),e}(),D=function(){var e=Object(r.useState)({conf:"95%"}),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)({prevBases:""}),u=Object(i.a)(c,2),s=u[0],o=u[1],m=Object(r.useState)({currBases:""}),d=Object(i.a)(m,2),v=d[0],f=d[1],p=Object(r.useState)({prevDrivers:""}),h=Object(i.a)(p,2),E=h[0],g=h[1],b=Object(r.useState)({currDrivers:""}),w=Object(i.a)(b,2),j=w[0],y=w[1],C=Object(r.useState)({prevPercents:""}),V=Object(i.a)(C,2),D=V[0],N=V[1],k=Object(r.useState)({currPercents:""}),x=Object(i.a)(k,2),P=x[0],M=x[1],T=Object(r.useState)({valid:!1}),q=Object(i.a)(T,2),F=q[0],L=q[1],z=Object(r.useState)({data:{}}),A=Object(i.a)(z,2),I=A[0],J=A[1];return n.a.createElement("section",{className:"SingleTesting"},n.a.createElement(O,{formSubmited:function(e){e.preventDefault();var t=(new B).processData(a,s,v,E,j,D,P);L({valid:!0}),J({data:t})},formChanges:function(e){"conf"===e.target.name?l({conf:e.target.value}):"prevBases"===e.target.name?o({prevBases:e.target.value}):"currBases"===e.target.name?f({currBases:e.target.value}):"prevDrivers"===e.target.name?g({prevDrivers:e.target.value}):"currDrivers"===e.target.name?y({currDrivers:e.target.value}):"prevPercents"===e.target.name?N({prevPercents:e.target.value}):"currPercents"===e.target.name&&M({currPercents:e.target.value})}}),F.valid?n.a.createElement(S,{data:I.data}):null)};var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(o,null),n.a.createElement(u.c,null,n.a.createElement(u.a,{path:"/",exact:!0,component:D}),n.a.createElement(u.a,{path:"/many-vs-many",component:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n.a.createElement(s.a,null,n.a.createElement(N,null));c.a.render(k,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.dad70de3.chunk.js.map